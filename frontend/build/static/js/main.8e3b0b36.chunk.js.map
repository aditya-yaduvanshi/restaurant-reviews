{"version":3,"sources":["http-common.js","services/restaurant.js","components/add-review.js","components/login.js","components/restaurant.js","components/restaurant-list.js","App.js","index.js"],"names":["axios","create","baseURL","headers","page","http","get","id","query","by","data","post","put","userId","delete","user_id","AddReview","props","initialReviewState","editing","location","state","currentReview","text","useState","review","setReview","submitted","setSubmitted","user","className","to","match","params","htmlFor","type","required","value","onChange","event","target","name","onClick","restaurant_id","review_id","_id","RestaurantDataService","updateReview","then","response","console","log","catch","err","createReview","Login","setUser","handleInputChange","login","history","push","Restaurant","address","cuisine","reviews","restaurant","setRestaurant","useEffect","building","street","zipcode","length","map","index","date","reviewId","deleteReview","prevState","splice","pathname","RestaurantList","restaurants","setRestaurants","searchName","setSearchName","searchZip","setSearchZip","searchCuisine","setSearchCuisine","cuisines","setCuisines","retrieveRestaurants","retrieveCuisines","getCuisines","concat","getAll","find","placeholder","substr","href","rel","App","React","a","style","cursor","exact","path","component","render","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.8e3b0b36.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n  baseURL: \"https://ap-south-1.aws.webhooks.mongodb-realm.com/api/client/v2.0/app/restaurant-reviews-pjloo/service/restaurants/incoming_webhook/\",\r\n  headers: {\r\n    \"Content-Type\": \"application/json\"\r\n  }\r\n});","import http from \"../http-common\";\r\n\r\nclass RestaurantDataService {\r\n  getAll(page=0){\r\n    return http.get(`restaurants?page=${page}`);\r\n  }\r\n\r\n  get(id){\r\n    return http.get(`restaurant?id=${id}`);\r\n  }\r\n\r\n  find(query, by=\"name\", page=0){\r\n    return http.get(`restaurants?${by}=${query}&page=${page}`);\r\n  }\r\n\r\n  createReview(data){\r\n    return http.post(\"review-new\", data);\r\n  }\r\n\r\n  updateReview(data){\r\n    return http.put(\"review-edit\", data);\r\n  }\r\n\r\n  deleteReview(id,userId){\r\n    return http.delete(`review-delete?id=${id}`, {\r\n      data: {\r\n        user_id: userId\r\n      }\r\n    });\r\n  }\r\n\r\n  getCuisines(id){\r\n    return http.get(`cuisines`)\r\n  }\r\n}\r\n\r\nexport default new RestaurantDataService();","import React, { useState } from \"react\";\r\nimport RestaurantDataService from \"../services/restaurant\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst AddReview = (props) => {\r\n  let initialReviewState = \"\"\r\n  let editing = false\r\n\r\n  if(props.location.state && props.location.state.currentReview){\r\n    editing = true\r\n    initialReviewState = props.location.state.currentReview.text\r\n  }\r\n\r\n  const [review, setReview] = useState(initialReviewState);\r\n  const [submitted, setSubmitted] = useState(false);\r\n\r\n  const handleInputChange = (event) => {\r\n    setReview(event.target.value);\r\n  };\r\n\r\n  const saveReview = () => {\r\n    var data = {\r\n      text: review,\r\n      name: props.user.name,\r\n      user_id: props.user.id,\r\n      restaurant_id: props.match.params.id\r\n    };\r\n\r\n    if(editing){\r\n      data.review_id = props.location.state.currentReview._id\r\n      RestaurantDataService.updateReview(data)\r\n      .then(response => {\r\n        setSubmitted(true)\r\n        console.log(response.data)\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n    } else {\r\n      RestaurantDataService.createReview(data)\r\n      .then(response => {\r\n        setSubmitted(true);\r\n        console.log(response.data);\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {props.user ? (\r\n        <div className=\"submit-form\">\r\n          {submitted ? (\r\n            <div>\r\n              <h4>You submitted successfully!</h4>\r\n              <Link to={\"/restaurants/\" + props.match.params.id} className=\"btn btn-success\">Back to Restaurant</Link>\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"description\">{editing ? \"Edit\" : \"Create\"}</label>\r\n                <input type=\"text\" className=\"form-control\" id=\"text\" required value={review} onChange={handleInputChange} name=\"text\" />\r\n              </div>\r\n              <button onClick={saveReview} className=\"btn btn-success\">Submit</button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div>Please Login.</div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddReview;\r\n","import React, { useState } from \"react\";\r\n\r\n\r\nconst Login = (props) => {\r\n\r\n  const initialUserState = {\r\n    name: \"\",\r\n    id: \"\",\r\n  };\r\n\r\n  const [user, setUser] = useState(initialUserState);\r\n\r\n  const handleInputChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setUser({...user, [name]: value});\r\n  };\r\n\r\n  const login = () => {\r\n    props.login(user);\r\n    props.history.push('/');\r\n  };\r\n\r\n  return (\r\n    <div className=\"submit-form\">\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"user\">Username</label>\r\n        <input type=\"text\" className=\"form-control\" id=\"name\" required value={user.name} onChange={handleInputChange} name=\"name\" />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"id\">ID</label>\r\n        <input type=\"text\" className=\"form-control\" id=\"id\" required value={user.id} onChange={handleInputChange} name=\"id\" />\r\n      </div>\r\n      <button onClick={login} className=\"btn btn-success\">Login</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport RestaurantDataService from \"../services/restaurant\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Restaurant = (props) => {\r\n  const initialRestaurantState = {\r\n    id: null,\r\n    name: \"\",\r\n    address: {},\r\n    cuisine: \"\",\r\n    reviews: []\r\n  };\r\n  const [restaurant, setRestaurant] = useState(initialRestaurantState);\r\n  const getRestaurant = (id) => {\r\n    RestaurantDataService.get(id)\r\n    .then(response => {\r\n      setRestaurant(response.data);\r\n      console.log(response.data);\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getRestaurant(props.match.params.id);\r\n  }, [props.match.params.id]);\r\n\r\n  const deleteReview = (reviewId, index) => {\r\n    RestaurantDataService.deleteReview(reviewId, props.user.id)\r\n    .then(response => {\r\n      setRestaurant((prevState) => {\r\n        prevState.reviews.splice(index, 1)\r\n        return ({\r\n          ...prevState\r\n        })\r\n      })\r\n    })\r\n    .catch (err => {\r\n      console.log(err);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {restaurant ? (\r\n        <div>\r\n          <h5>{restaurant.name}</h5>\r\n          <p>\r\n            <strong>Cuisine : </strong>{restaurant.cuisine} <br/>\r\n            <strong>Address : </strong>{restaurant.address.building} {restaurant.address.street}, {restaurant.address.zipcode}\r\n          </p>\r\n          <Link to={\"/restaurants/\"+props.match.params.id+\"/review\"} className=\"btn btn-primary\" >Add Review</Link>\r\n          <h4>Review</h4>\r\n          <div className=\"row\">\r\n            {restaurant.reviews.length > 0 ? (\r\n              restaurant.reviews.map((review, index) => {\r\n                return (\r\n                  <div className=\"card\">\r\n                    <div className=\"card-body\">\r\n                      <p className=\"card-text\">\r\n                        {review.text}<br/>\r\n                        <strong>User : </strong>{review.name}<br/>\r\n                        <strong>Date : </strong>{review.date}\r\n                      </p>\r\n                      {props.user && props.user.id === review.user_id && \r\n                        <div className=\"row\">\r\n                          <button onClick={() => deleteReview(review._id, index)} className=\"btn btn-primary btn-sm col-md-5 mx-1 mb-1\">Delete Review</button>\r\n                          <Link to={{\r\n                            pathname: \"/restaurants/\"+props.match.params.id+\"/review\",\r\n                            state: {\r\n                              currentReview: review\r\n                            }\r\n                          }} className=\"btn btn-primary btn-sm col-md-5 mx-1 mb-1\">Edit Review</Link>\r\n                        </div>\r\n                      }\r\n                    </div>\r\n                  </div>\r\n                )\r\n              })\r\n            ) : (\r\n              <div className=\"col-sm-4\">\r\n                <p>No reviews yet.</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <br />\r\n          <p>No sestaurant selected.</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Restaurant;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport RestaurantDataService from \"../services/restaurant\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst RestaurantList = (props) => {\r\n  const [restaurants, setRestaurants] = useState([]);\r\n  const [searchName, setSearchName] = useState(\"\");\r\n  const [searchZip, setSearchZip] = useState(\"\");\r\n  const [searchCuisine, setSearchCuisine] = useState(\"\");\r\n  const [cuisines, setCuisines] = useState([\"All Cuisines\"]);\r\n\r\n  useEffect(()=>{\r\n    retrieveRestaurants();\r\n    retrieveCuisines();\r\n  }, []);\r\n\r\n  const onChangeSearchName = (event) => {\r\n    const searchName = event.target.value;\r\n    setSearchName(searchName);\r\n  };\r\n\r\n  const onChangeSearchZip = (event) => {\r\n    const searchZip = event.target.value;\r\n    setSearchZip(searchZip);\r\n  };\r\n\r\n  const onChangeSearchCuisine = (event) => {\r\n    const searchCuisine = event.target.value;\r\n    setSearchCuisine(searchCuisine);\r\n  };\r\n\r\n  const retrieveCuisines = () => {\r\n    RestaurantDataService.getCuisines()\r\n    .then(response => {\r\n      console.log(response.data);\r\n      setCuisines([\"All Cuisines\"].concat(response.data));\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n  };\r\n\r\n  const retrieveRestaurants = () => {\r\n    RestaurantDataService.getAll()\r\n    .then(response => {\r\n      console.log(response.data);\r\n      setRestaurants(response.data.restaurants);\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n  };\r\n\r\n  const refreshList = () => {\r\n    retrieveRestaurants();\r\n  };\r\n\r\n  const find = (query, by) => {\r\n    RestaurantDataService.find(query, by)\r\n    .then(response => {\r\n      console.log(response.data);\r\n      setRestaurants(response.data.restaurants);\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n  };\r\n\r\n  const findByName = () => {\r\n    find(searchName, \"name\");\r\n  };\r\n\r\n  const findByZip = () => {\r\n    find(searchZip, \"zipcode\");\r\n  };\r\n\r\n  const findByCuisine = () => {\r\n    if(searchCuisine === \"All Cuisines\"){\r\n      refreshList();\r\n    }\r\n    else {\r\n      find(searchCuisine, \"cuisine\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"row pb-1\">\r\n        <div className=\"input-group col-lg-4\">\r\n          <input \r\n            type=\"text\" \r\n            className=\"form-control\" \r\n            placeholder=\"Search by name\"\r\n            value={searchName}\r\n            onChange={onChangeSearchName} \r\n          />\r\n        </div>\r\n        <div className=\"input-group-append\">\r\n          <button\r\n            className=\"btn btn-outline-secondary\"\r\n            type=\"button\"\r\n            onClick={findByName} \r\n          >\r\n            Search\r\n          </button>\r\n        </div>\r\n        <div className=\"input-group col-lg-4\">\r\n          <input \r\n            type=\"text\" \r\n            className=\"form-control\" \r\n            placeholder=\"Search by zip\"\r\n            value={searchZip}\r\n            onChange={onChangeSearchZip} \r\n          />\r\n        </div>\r\n        <div className=\"input-group-append\">\r\n          <button\r\n            className=\"btn btn-outline-secondary\"\r\n            type=\"button\"\r\n            onClick={findByZip} \r\n          >\r\n            Search\r\n          </button>\r\n        </div>\r\n        <div className=\"input-group col-lg-4\">\r\n          <select onChange={onChangeSearchCuisine}>\r\n            {cuisines.map(cuisine => {\r\n              return (\r\n                <option value={cuisine}>{cuisine.substr(0, 20)}</option>\r\n              );\r\n            })}\r\n          </select>\r\n          <div className=\"input-group-append\">\r\n            <button \r\n              className=\"btn btn-outline-secondary\"\r\n              type=\"button\"\r\n              onClick={findByCuisine}\r\n            >\r\n              Search\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        {restaurants.map(restaurant => {\r\n          const address = `${restaurant.address.building} ${restaurant.address.street}, ${restaurant.address.zipcode}`;\r\n          return (\r\n            <div className=\"col-lg-4 pb-1\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <h5 className=\"card-title\">{restaurant.name}</h5>\r\n                  <p className=\"card-text\">\r\n                    <strong>Cuisine : </strong>{restaurant.cuisine}<br/>\r\n                    <strong>Address : </strong>{address}\r\n                  </p>\r\n                  <div className=\"row\">\r\n                    <Link to={\"/restaurants/\"+restaurant._id} className=\"btn btn-primary col-lg-5 mx-1 mb-1\">View Reviews</Link>\r\n                    <a target=\"_blank\" href={\"https://www.google.com/maps/place/\"+address} className=\"btn btn-primary col-lg-5 mx-1 mb-1\" rel=\"noreferrer\">View Map</a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RestaurantList;\r\n","import React from \"react\";\nimport { Switch, Route, Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport AddReview from \"./components/add-review\";\nimport Login from \"./components/login\";\nimport Restaurant from \"./components/restaurant\";\nimport RestaurantList from \"./components/restaurant-list\";\n\nfunction App() {\n  const [user, setUser] = React.useState(null);\n\n  async function login(user = null) {\n    setUser(user);\n  }\n\n  async function logout() {\n    setUser(null);\n  }\n\n  return (\n    <div>\n      <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\n        <a href=\"/restaurants\" className=\"navbar-brand\">Restuarant Reviews</a>\n        <div className=\"navbar-nav mr-auto\">\n          <li className=\"nav-item\">\n            <Link to={\"/restaurants\"} className=\"nav-link\">Restaurants</Link>\n          </li>\n          <li className=\"nav-item\">\n            { user ? (\n              <button onClick={logout} className=\"nav-link btn\" style={{cursor:'pointer'}}>\n                Logout {user.name}\n              </button>\n            ) : (\n              <Link to={\"/login\"} className=\"nav-link\">Login</Link>\n            )}\n          </li>\n        </div>\n      </nav>\n\n      <div className=\"container mt-3\">\n        <Switch>\n          <Route exact path={[\"/\", \"/restaurants\"]} component={RestaurantList} />\n          <Route path=\"/restaurants/:id/review\" render={(props)=>(\n            <AddReview {...props} user={user} />\n          )} />\n          <Route path=\"/restaurants/:id\" render={(props)=>(\n            <Restaurant {...props} user={user} />\n          )} />\n          <Route path=\"/login\" render={(props)=>(\n            <Login {...props} login={login} />\n          )} />\n        </Switch>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {BrowserRouter} from \"react-router-dom\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}